<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Apply - iSKKOLAR</title>
  <link rel="stylesheet" href="css/styles.css">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Segoe UI', Tahoma, sans-serif; background: #f5f5f5; min-height: 100vh; padding-bottom: 100px; }

    /* Header */
    .apply-header {
      background: linear-gradient(135deg, #6B46C1 0%, #8B5CF6 100%);
      padding: 16px 20px;
      display: flex;
      align-items: center;
      gap: 16px;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .back-btn {
      width: 40px;
      height: 40px;
      border-radius: 12px;
      background: rgba(255,255,255,0.2);
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s;
    }
    .back-btn:hover { background: rgba(255,255,255,0.3); }
    .back-btn svg { width: 20px; height: 20px; color: white; }
    .header-title {
      color: white;
      font-size: 18px;
      font-weight: 600;
    }

    /* Progress Bar */
    .progress-container {
      background: white;
      padding: 20px;
      border-bottom: 1px solid #e5e7eb;
    }
    .progress-bar-wrap {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }
    .progress-segment {
      flex: 1;
      height: 6px;
      background: #e5e7eb;
      border-radius: 3px;
      transition: all 0.3s;
    }
    .progress-segment.active { background: linear-gradient(90deg, #6B46C1, #8B5CF6); }
    .progress-segment.completed { background: #10B981; }
    .progress-labels {
      display: flex;
      justify-content: space-between;
    }
    .progress-label {
      font-size: 11px;
      color: #9ca3af;
      font-weight: 500;
      text-align: center;
      flex: 1;
    }
    .progress-label.active { color: #6B46C1; font-weight: 600; }
    .progress-label.completed { color: #10B981; }

    /* Form Container */
    .form-container { padding: 20px; max-width: 600px; margin: 0 auto; }
    .form-step { display: none; }
    .form-step.active { display: block; }

    /* Section Title */
    .section-title {
      font-size: 18px;
      font-weight: 700;
      color: #1f2937;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .section-title svg { width: 22px; height: 22px; color: #6B46C1; }
    .section-subtitle {
      font-size: 14px;
      color: #6b7280;
      margin-bottom: 20px;
    }

    /* Form Card */
    .form-card {
      background: white;
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.04);
    }
    .form-card-title {
      font-size: 14px;
      font-weight: 600;
      color: #374151;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid #f3f4f6;
    }

    /* Form Elements */
    .form-group { margin-bottom: 16px; }
    .form-label {
      display: block;
      font-size: 13px;
      font-weight: 500;
      color: #374151;
      margin-bottom: 6px;
    }
    .form-label .required { color: #EF4444; }
    .form-input, .form-select {
      width: 100%;
      padding: 12px 14px;
      border: 1.5px solid #e5e7eb;
      border-radius: 10px;
      font-size: 14px;
      transition: all 0.2s;
      background: #fafafa;
    }
    .form-input:focus, .form-select:focus {
      outline: none;
      border-color: #8B5CF6;
      background: white;
      box-shadow: 0 0 0 3px rgba(139,92,246,0.1);
    }
    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    /* File Upload */
    .file-upload-box {
      border: 2px dashed #d1d5db;
      border-radius: 12px;
      padding: 24px;
      text-align: center;
      cursor: pointer;
      transition: all 0.2s;
      background: #fafafa;
    }
    .file-upload-box:hover {
      border-color: #8B5CF6;
      background: #f5f3ff;
    }
    .file-upload-box svg { width: 32px; height: 32px; color: #9ca3af; margin-bottom: 8px; }
    .file-upload-box p { font-size: 13px; color: #6b7280; margin: 4px 0; }
    .file-upload-box .hint { font-size: 11px; color: #9ca3af; }
    .file-upload-box input[type="file"] { display: none; }
    .file-upload-box.has-file { border-color: #10B981; background: #f0fdf4; }
    .file-upload-box.has-file svg { color: #10B981; }

    /* Actions */
    .form-actions {
      display: flex;
      gap: 12px;
      margin-top: 24px;
    }
    .btn-back, .btn-next {
      flex: 1;
      padding: 14px 20px;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
    }
    .btn-back {
      background: #f3f4f6;
      color: #374151;
    }
    .btn-back:hover { background: #e5e7eb; }
    .btn-next {
      background: linear-gradient(135deg, #6B46C1 0%, #8B5CF6 100%);
      color: white;
    }
    .btn-next:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(107,70,193,0.4); }
    .btn-submit {
      flex: 1;
      padding: 14px 20px;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
      background: linear-gradient(135deg, #059669 0%, #10B981 100%);
      color: white;
    }
    .btn-submit:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(16,185,129,0.4); }
    .btn-back svg, .btn-next svg, .btn-submit svg { width: 18px; height: 18px; }

    /* Review Section */
    .review-card {
      background: white;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 12px;
    }
    .review-card-title {
      font-size: 13px;
      font-weight: 600;
      color: #6B46C1;
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .review-item {
      display: flex;
      justify-content: space-between;
      padding: 8px 0;
      border-bottom: 1px solid #f3f4f6;
    }
    .review-item:last-child { border-bottom: none; }
    .review-label { font-size: 13px; color: #6b7280; }
    .review-value { font-size: 13px; color: #1f2937; font-weight: 500; text-align: right; }

    /* Document Item */
    .doc-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: #f9fafb;
      border-radius: 10px;
      margin-bottom: 8px;
    }
    .doc-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      background: linear-gradient(135deg, #6B46C1, #8B5CF6);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .doc-icon svg { width: 20px; height: 20px; color: white; }
    .doc-info { flex: 1; }
    .doc-name { font-size: 13px; font-weight: 500; color: #1f2937; }
    .doc-status { font-size: 11px; color: #10B981; }
    .doc-check { color: #10B981; }
    .doc-check svg { width: 20px; height: 20px; }

    /* Declaration */
    .declaration-box {
      background: #fffbeb;
      border: 1px solid #fcd34d;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 16px;
    }
    .declaration-title {
      font-size: 14px;
      font-weight: 600;
      color: #92400e;
      margin-bottom: 8px;
    }
    .declaration-text { font-size: 12px; color: #78350f; line-height: 1.5; }
    .agreement-row {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      margin-top: 16px;
    }
    .agreement-row input[type="checkbox"] {
      width: 18px;
      height: 18px;
      accent-color: #6B46C1;
      margin-top: 2px;
    }
    .agreement-row label { font-size: 13px; color: #374151; }

    /* Conditional sections */
    .tertiary-section, .vocational-section { display: none; }
    .tertiary-section.active, .vocational-section.active { display: block; }

    /* Success Modal */
    .success-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .success-modal.active { display: flex; }
    .success-content {
      background: white;
      border-radius: 20px;
      padding: 32px;
      text-align: center;
      max-width: 340px;
      width: 100%;
    }
    .success-icon {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, #059669, #10B981);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 20px;
    }
    .success-icon svg { width: 40px; height: 40px; color: white; }
    .success-title { font-size: 20px; font-weight: 700; color: #1f2937; margin-bottom: 8px; }
    .success-text { font-size: 14px; color: #6b7280; margin-bottom: 24px; }
    .success-btn {
      width: 100%;
      padding: 14px;
      border-radius: 12px;
      background: linear-gradient(135deg, #6B46C1 0%, #8B5CF6 100%);
      color: white;
      font-size: 15px;
      font-weight: 600;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="apply-header">
    <button class="back-btn" onclick="history.back()">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
      </svg>
    </button>
    <h1 class="header-title" id="formTitle">Tertiary Scholarship Program</h1>
  </header>

  <!-- Progress Bar -->
  <div class="progress-container">
    <div class="progress-bar-wrap">
      <div class="progress-segment active" id="prog1"></div>
      <div class="progress-segment" id="prog2"></div>
      <div class="progress-segment" id="prog3"></div>
      <div class="progress-segment" id="prog4"></div>
    </div>
    <div class="progress-labels">
      <span class="progress-label active" id="label1">Academic</span>
      <span class="progress-label" id="label2">Family</span>
      <span class="progress-label" id="label3">Documents</span>
      <span class="progress-label" id="label4">Review</span>
    </div>
  </div>

  <!-- Form Container -->
  <div class="form-container">
    
    <!-- Step 1: Academic Information -->
    <div class="form-step active" id="step1">
      <div class="section-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
        </svg>
        Academic Information
      </div>

      <!-- Scholarship Type Selection -->
      <div class="form-card">
        <div class="form-card-title">Scholarship Details</div>
        <div class="form-group">
          <label class="form-label">Scholarship Type <span class="required">*</span></label>
          <select class="form-select" id="scholarshipType" onchange="handleScholarshipChange()">
            <option value="tertiary">Tertiary Scholarship Program</option>
            <option value="vocational">Vocational and Technology Scholarship</option>
            <option value="staff">Staff Educational Assistance</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">Scholarship Fund Type <span class="required">*</span></label>
          <select class="form-select" id="fundType">
            <option value="">Select fund type</option>
            <option value="new">New Application</option>
            <option value="renewal">Renewal</option>
          </select>
        </div>
      </div>

      <!-- Secondary Education (Common) -->
      <div class="form-card">
        <div class="form-card-title">Secondary Education</div>
        <div class="form-group">
          <label class="form-label">School Name <span class="required">*</span></label>
          <input type="text" class="form-input" id="secondarySchool" placeholder="Enter high school name">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Strand/Track <span class="required">*</span></label>
            <select class="form-select" id="strand">
              <option value="">Select strand</option>
              <option value="stem">STEM</option>
              <option value="abm">ABM</option>
              <option value="humss">HUMSS</option>
              <option value="gas">GAS</option>
              <option value="tvl">TVL</option>
              <option value="arts">Arts & Design</option>
              <option value="sports">Sports</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Year Graduated <span class="required">*</span></label>
            <select class="form-select" id="yearGraduated">
              <option value="">Select year</option>
              <option value="2024">2024</option>
              <option value="2023">2023</option>
              <option value="2022">2022</option>
              <option value="2021">2021</option>
              <option value="2020">2020</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">High School Report Card</label>
          <div class="file-upload-box" onclick="this.querySelector('input').click()">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
            </svg>
            <p>Click to upload</p>
            <p class="hint">PDF, JPG, PNG (max. 5MB)</p>
            <input type="file" id="hsReportCard" accept=".pdf,.jpg,.jpeg,.png">
          </div>
        </div>
      </div>

      <!-- Tertiary Education Section -->
      <div class="tertiary-section active" id="tertiarySection">
        <div class="form-card">
          <div class="form-card-title">Current Tertiary Education</div>
          <div class="form-group">
            <label class="form-label">University/College Name <span class="required">*</span></label>
            <input type="text" class="form-input" id="universityName" placeholder="Enter university/college name">
          </div>
          <div class="form-group">
            <label class="form-label">Program/Course <span class="required">*</span></label>
            <input type="text" class="form-input" id="program" placeholder="e.g., BS Information Technology">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Year Level <span class="required">*</span></label>
              <select class="form-select" id="yearLevel">
                <option value="">Select year</option>
                <option value="1st">1st Year</option>
                <option value="2nd">2nd Year</option>
                <option value="3rd">3rd Year</option>
                <option value="4th">4th Year</option>
                <option value="5th">5th Year</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Term/Semester <span class="required">*</span></label>
              <select class="form-select" id="term">
                <option value="">Select term</option>
                <option value="1st">1st Semester</option>
                <option value="2nd">2nd Semester</option>
                <option value="summer">Summer</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Certificate of Registration (COR)</label>
            <div class="file-upload-box" onclick="this.querySelector('input').click()">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
              </svg>
              <p>Click to upload</p>
              <p class="hint">PDF, JPG, PNG (max. 5MB)</p>
              <input type="file" id="tertiaryCOR" accept=".pdf,.jpg,.jpeg,.png">
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Current Term Report Card/Grades</label>
            <div class="file-upload-box" onclick="this.querySelector('input').click()">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
              </svg>
              <p>Click to upload</p>
              <p class="hint">PDF, JPG, PNG (max. 5MB)</p>
              <input type="file" id="tertiaryGrades" accept=".pdf,.jpg,.jpeg,.png">
            </div>
          </div>
        </div>
      </div>

      <!-- Vocational Education Section -->
      <div class="vocational-section" id="vocationalSection">
        <div class="form-card">
          <div class="form-card-title">Vocational/Technical Education</div>
          <div class="form-group">
            <label class="form-label">School/Training Center Name <span class="required">*</span></label>
            <input type="text" class="form-input" id="vocSchoolName" placeholder="Enter TESDA-accredited school name">
          </div>
          <div class="form-group">
            <label class="form-label">Program/Course <span class="required">*</span></label>
            <input type="text" class="form-input" id="vocProgram" placeholder="e.g., Computer Systems Servicing NC II">
          </div>
          <div class="form-row">
            <div class="form-group">
              <label class="form-label">Course Duration <span class="required">*</span></label>
              <select class="form-select" id="courseDuration">
                <option value="">Select duration</option>
                <option value="3months">3 Months</option>
                <option value="6months">6 Months</option>
                <option value="1year">1 Year</option>
                <option value="2years">2 Years</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Expected Completion <span class="required">*</span></label>
              <input type="month" class="form-input" id="completionDate">
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Certificate of Registration (COR)</label>
            <div class="file-upload-box" onclick="this.querySelector('input').click()">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
              </svg>
              <p>Click to upload</p>
              <p class="hint">PDF, JPG, PNG (max. 5MB)</p>
              <input type="file" id="vocCOR" accept=".pdf,.jpg,.jpeg,.png">
            </div>
          </div>
        </div>
      </div>

      <div class="form-actions">
        <button class="btn-next" onclick="goToStep(2)">
          Next Step
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Step 2: Family Information -->
    <div class="form-step" id="step2">
      <div class="section-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/>
        </svg>
        Family Information
      </div>

      <!-- Parents Information -->
      <div class="form-card">
        <div class="form-card-title">Parents Information</div>
        
        <!-- Father -->
        <div class="form-group">
          <label class="form-label">Father's Full Name <span class="required">*</span></label>
          <input type="text" class="form-input" id="fatherName" placeholder="Enter father's full name">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Occupation</label>
            <input type="text" class="form-input" id="fatherOccupation" placeholder="e.g., Farmer, Driver">
          </div>
          <div class="form-group">
            <label class="form-label">Monthly Income</label>
            <select class="form-select" id="fatherIncome">
              <option value="">Select income range</option>
              <option value="below10k">Below ₱10,000</option>
              <option value="10k-20k">₱10,000 - ₱20,000</option>
              <option value="20k-30k">₱20,000 - ₱30,000</option>
              <option value="30k-50k">₱30,000 - ₱50,000</option>
              <option value="above50k">Above ₱50,000</option>
              <option value="none">No Income/Deceased</option>
            </select>
          </div>
        </div>

        <!-- Mother -->
        <div class="form-group" style="margin-top: 20px; padding-top: 16px; border-top: 1px solid #f3f4f6;">
          <label class="form-label">Mother's Full Name <span class="required">*</span></label>
          <input type="text" class="form-input" id="motherName" placeholder="Enter mother's full name">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Occupation</label>
            <input type="text" class="form-input" id="motherOccupation" placeholder="e.g., Housewife, Teacher">
          </div>
          <div class="form-group">
            <label class="form-label">Monthly Income</label>
            <select class="form-select" id="motherIncome">
              <option value="">Select income range</option>
              <option value="below10k">Below ₱10,000</option>
              <option value="10k-20k">₱10,000 - ₱20,000</option>
              <option value="20k-30k">₱20,000 - ₱30,000</option>
              <option value="30k-50k">₱30,000 - ₱50,000</option>
              <option value="above50k">Above ₱50,000</option>
              <option value="none">No Income/Deceased</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Guardian Information -->
      <div class="form-card">
        <div class="form-card-title">Guardian's Information (if different from parents)</div>
        <div class="form-group">
          <label class="form-label">Guardian's Full Name</label>
          <input type="text" class="form-input" id="guardianName" placeholder="Enter guardian's full name">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Relationship to Applicant</label>
            <select class="form-select" id="guardianRelation">
              <option value="">Select relationship</option>
              <option value="grandparent">Grandparent</option>
              <option value="aunt-uncle">Aunt/Uncle</option>
              <option value="sibling">Sibling</option>
              <option value="other">Other Relative</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Contact Number</label>
            <input type="tel" class="form-input" id="guardianContact" placeholder="09XX XXX XXXX">
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Occupation</label>
            <input type="text" class="form-input" id="guardianOccupation" placeholder="Enter occupation">
          </div>
          <div class="form-group">
            <label class="form-label">Monthly Income</label>
            <select class="form-select" id="guardianIncome">
              <option value="">Select income range</option>
              <option value="below10k">Below ₱10,000</option>
              <option value="10k-20k">₱10,000 - ₱20,000</option>
              <option value="20k-30k">₱20,000 - ₱30,000</option>
              <option value="30k-50k">₱30,000 - ₱50,000</option>
              <option value="above50k">Above ₱50,000</option>
            </select>
          </div>
        </div>
      </div>

      <div class="form-actions">
        <button class="btn-back" onclick="goToStep(1)">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"/>
          </svg>
          Back
        </button>
        <button class="btn-next" onclick="goToStep(3)">
          Next Step
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Step 3: Supporting Documents -->
    <div class="form-step" id="step3">
      <div class="section-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
        </svg>
        Supporting Documents
      </div>
      <p class="section-subtitle">Upload the required documents to complete your application</p>

      <div class="form-card">
        <div class="form-card-title">Required Documents</div>
        
        <div class="form-group">
          <label class="form-label">Barangay Certificate/Indigency <span class="required">*</span></label>
          <div class="file-upload-box" onclick="this.querySelector('input').click()">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
            </svg>
            <p>Click to upload</p>
            <p class="hint">PDF, JPG, PNG (max. 5MB)</p>
            <input type="file" id="barangayCert" accept=".pdf,.jpg,.jpeg,.png">
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">PSA Birth Certificate <span class="required">*</span></label>
          <div class="file-upload-box" onclick="this.querySelector('input').click()">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
            </svg>
            <p>Click to upload</p>
            <p class="hint">PDF, JPG, PNG (max. 5MB)</p>
            <input type="file" id="birthCert" accept=".pdf,.jpg,.jpeg,.png">
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Certificate of Income (ITR/Certificate of No Income)</label>
          <div class="file-upload-box" onclick="this.querySelector('input').click()">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
            </svg>
            <p>Click to upload</p>
            <p class="hint">PDF, JPG, PNG (max. 5MB)</p>
            <input type="file" id="incomeCert" accept=".pdf,.jpg,.jpeg,.png">
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">2x2 ID Photo</label>
          <div class="file-upload-box" onclick="this.querySelector('input').click()">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"/>
            </svg>
            <p>Click to upload</p>
            <p class="hint">JPG, PNG (max. 2MB)</p>
            <input type="file" id="idPhoto" accept=".jpg,.jpeg,.png">
          </div>
        </div>
      </div>

      <div class="form-actions">
        <button class="btn-back" onclick="goToStep(2)">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"/>
          </svg>
          Back
        </button>
        <button class="btn-next" onclick="goToStep(4)">
          Review Application
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Step 4: Review -->
    <div class="form-step" id="step4">
      <div class="section-title">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        Review Information
      </div>
      <p class="section-subtitle">Please review your application before submitting</p>

      <!-- Academic Review -->
      <div class="review-card">
        <div class="review-card-title">Academic Information</div>
        <div class="review-item">
          <span class="review-label">Scholarship Type</span>
          <span class="review-value" id="review-scholarship">-</span>
        </div>
        <div class="review-item">
          <span class="review-label">Fund Type</span>
          <span class="review-value" id="review-fund">-</span>
        </div>
        <div class="review-item">
          <span class="review-label">Secondary School</span>
          <span class="review-value" id="review-secondary">-</span>
        </div>
        <div class="review-item">
          <span class="review-label">Strand/Track</span>
          <span class="review-value" id="review-strand">-</span>
        </div>
        <div class="review-item tertiary-review">
          <span class="review-label">University/College</span>
          <span class="review-value" id="review-university">-</span>
        </div>
        <div class="review-item tertiary-review">
          <span class="review-label">Program</span>
          <span class="review-value" id="review-program">-</span>
        </div>
        <div class="review-item tertiary-review">
          <span class="review-label">Year Level</span>
          <span class="review-value" id="review-year">-</span>
        </div>
        <div class="review-item vocational-review" style="display:none;">
          <span class="review-label">Training Center</span>
          <span class="review-value" id="review-voc-school">-</span>
        </div>
        <div class="review-item vocational-review" style="display:none;">
          <span class="review-label">Vocational Program</span>
          <span class="review-value" id="review-voc-program">-</span>
        </div>
      </div>

      <!-- Family Review -->
      <div class="review-card">
        <div class="review-card-title">Family Information</div>
        <div class="review-item">
          <span class="review-label">Father's Name</span>
          <span class="review-value" id="review-father">-</span>
        </div>
        <div class="review-item">
          <span class="review-label">Father's Income</span>
          <span class="review-value" id="review-father-income">-</span>
        </div>
        <div class="review-item">
          <span class="review-label">Mother's Name</span>
          <span class="review-value" id="review-mother">-</span>
        </div>
        <div class="review-item">
          <span class="review-label">Mother's Income</span>
          <span class="review-value" id="review-mother-income">-</span>
        </div>
      </div>

      <!-- Documents Review -->
      <div class="review-card">
        <div class="review-card-title">Uploaded Documents</div>
        <div class="doc-item" id="doc-barangay">
          <div class="doc-icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </svg>
          </div>
          <div class="doc-info">
            <div class="doc-name">Barangay Certificate</div>
            <div class="doc-status">Uploaded</div>
          </div>
          <div class="doc-check">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
          </div>
        </div>
        <div class="doc-item" id="doc-birth">
          <div class="doc-icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </svg>
          </div>
          <div class="doc-info">
            <div class="doc-name">PSA Birth Certificate</div>
            <div class="doc-status">Uploaded</div>
          </div>
          <div class="doc-check">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
          </div>
        </div>
        <div class="doc-item" id="doc-income">
          <div class="doc-icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
            </svg>
          </div>
          <div class="doc-info">
            <div class="doc-name">Income Certificate</div>
            <div class="doc-status">Uploaded</div>
          </div>
          <div class="doc-check">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
            </svg>
          </div>
        </div>
      </div>

      <!-- Declaration -->
      <div class="declaration-box">
        <div class="declaration-title">Declaration and Agreement</div>
        <p class="declaration-text">I certify that all information provided in this application is true and accurate to the best of my knowledge. I understand that providing false information may result in disqualification from the scholarship program. I authorize KKFI to verify all submitted documents and information.</p>
      </div>

      <div class="agreement-row">
        <input type="checkbox" id="agreeTerms">
        <label for="agreeTerms">I agree to the terms and conditions stated above and confirm that all information provided is accurate.</label>
      </div>

      <div class="form-actions">
        <button class="btn-back" onclick="goToStep(3)">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18"/>
          </svg>
          Back
        </button>
        <button class="btn-submit" onclick="submitApplication()">
          Submit Application
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div class="success-modal" id="successModal">
    <div class="success-content">
      <div class="success-icon">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
        </svg>
      </div>
      <h2 class="success-title">Application Submitted!</h2>
      <p class="success-text">Your scholarship application has been successfully submitted. We will review your application and notify you of the results.</p>
      <button class="success-btn" onclick="window.location.href='index.html'">Back to Home</button>
    </div>
  </div>

  <script>
    let currentStep = 1;
    const totalSteps = 4;

    // Handle scholarship type change
    function handleScholarshipChange() {
      const type = document.getElementById('scholarshipType').value;
      const tertiarySection = document.getElementById('tertiarySection');
      const vocationalSection = document.getElementById('vocationalSection');
      const formTitle = document.getElementById('formTitle');
      
      // Update form title
      if (type === 'tertiary' || type === 'staff') {
        formTitle.textContent = type === 'staff' ? 'Staff Educational Assistance' : 'Tertiary Scholarship Program';
        tertiarySection.classList.add('active');
        vocationalSection.classList.remove('active');
      } else if (type === 'vocational') {
        formTitle.textContent = 'Vocational and Technology Scholarship';
        tertiarySection.classList.remove('active');
        vocationalSection.classList.add('active');
      }

      // Update review section visibility
      document.querySelectorAll('.tertiary-review').forEach(el => {
        el.style.display = (type === 'tertiary' || type === 'staff') ? 'flex' : 'none';
      });
      document.querySelectorAll('.vocational-review').forEach(el => {
        el.style.display = type === 'vocational' ? 'flex' : 'none';
      });
    }

    // Navigate to step
    function goToStep(step) {
      if (step < 1 || step > totalSteps) return;
      
      currentStep = step;
      
      // Update progress bar
      for (let i = 1; i <= totalSteps; i++) {
        const prog = document.getElementById('prog' + i);
        const label = document.getElementById('label' + i);
        
        prog.classList.remove('active', 'completed');
        label.classList.remove('active', 'completed');
        
        if (i < step) {
          prog.classList.add('completed');
          label.classList.add('completed');
        } else if (i === step) {
          prog.classList.add('active');
          label.classList.add('active');
        }
      }
      
      // Show current step
      document.querySelectorAll('.form-step').forEach(el => el.classList.remove('active'));
      document.getElementById('step' + step).classList.add('active');
      
      // Update review if on last step
      if (step === 4) {
        updateReview();
      }
      
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Update review section
    function updateReview() {
      const type = document.getElementById('scholarshipType').value;
      const typeText = document.getElementById('scholarshipType').selectedOptions[0]?.text || '-';
      
      document.getElementById('review-scholarship').textContent = typeText;
      document.getElementById('review-fund').textContent = document.getElementById('fundType').selectedOptions[0]?.text || '-';
      document.getElementById('review-secondary').textContent = document.getElementById('secondarySchool').value || '-';
      document.getElementById('review-strand').textContent = document.getElementById('strand').selectedOptions[0]?.text || '-';
      
      if (type === 'tertiary' || type === 'staff') {
        document.getElementById('review-university').textContent = document.getElementById('universityName').value || '-';
        document.getElementById('review-program').textContent = document.getElementById('program').value || '-';
        document.getElementById('review-year').textContent = document.getElementById('yearLevel').selectedOptions[0]?.text || '-';
      } else if (type === 'vocational') {
        document.getElementById('review-voc-school').textContent = document.getElementById('vocSchoolName').value || '-';
        document.getElementById('review-voc-program').textContent = document.getElementById('vocProgram').value || '-';
      }
      
      document.getElementById('review-father').textContent = document.getElementById('fatherName').value || '-';
      document.getElementById('review-father-income').textContent = document.getElementById('fatherIncome').selectedOptions[0]?.text || '-';
      document.getElementById('review-mother').textContent = document.getElementById('motherName').value || '-';
      document.getElementById('review-mother-income').textContent = document.getElementById('motherIncome').selectedOptions[0]?.text || '-';
    }

    // Submit application
    function submitApplication() {
      const agreed = document.getElementById('agreeTerms').checked;
      
      if (!agreed) {
        alert('Please agree to the terms and conditions to submit your application.');
        return;
      }
      
      // Store application data
      const applicationData = {
        type: document.getElementById('scholarshipType').value,
        typeName: document.getElementById('scholarshipType').selectedOptions[0]?.text,
        submittedAt: new Date().toISOString(),
        status: 'pending'
      };
      localStorage.setItem('kkfi_application', JSON.stringify(applicationData));
      
      // Show success modal
      document.getElementById('successModal').classList.add('active');
    }

    // Handle file upload visual feedback
    document.querySelectorAll('.file-upload-box input[type="file"]').forEach(input => {
      input.addEventListener('change', function() {
        const box = this.closest('.file-upload-box');
        if (this.files.length > 0) {
          box.classList.add('has-file');
          box.querySelector('p').textContent = this.files[0].name;
        } else {
          box.classList.remove('has-file');
          box.querySelector('p').textContent = 'Click to upload';
        }
      });
    });

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
      // Check for scholarship type from URL
      const params = new URLSearchParams(window.location.search);
      const type = params.get('type');
      
      if (type) {
        document.getElementById('scholarshipType').value = type;
        handleScholarshipChange();
      }
    });
  </script>
</body>
</html>